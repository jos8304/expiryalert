{"ast":null,"code":"import{useEffect,useRef,useState}from'react';import resetWhiteImg from'../assets/ic-reset-white.png';import placeholderImg from'../assets/preview-placeholder.png';import'./FileInput.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FileInput(_ref){let{className='',initialPreview,name,value,onChange}=_ref;const[preview,setPreview]=useState(initialPreview);const inputRef=useRef();const handleChange=e=>{const nextValue=e.target.files[0];onChange(name,nextValue);};const handleClearClick=()=>{const inputNode=inputRef.current;if(!inputNode)return;inputNode.value='';onChange(name,null);};useEffect(()=>{if(!value)return;const nextPreview=URL.createObjectURL(value);setPreview(nextPreview);return()=>{setPreview(initialPreview);URL.revokeObjectURL(nextPreview);};},[value,initialPreview]);return/*#__PURE__*/_jsxs(\"div\",{className:`FileInput ${className}`,children:[/*#__PURE__*/_jsx(\"img\",{className:`FileInput-preview ${preview?'selected':''}`,src:preview||placeholderImg,alt:\"\\uC774\\uBBF8\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"input\",{className:\"FileInput-hidden-overlay\",type:\"file\",onChange:handleChange,ref:inputRef}),value&&/*#__PURE__*/_jsx(\"button\",{className:\"FileInput-clear-button\",type:\"button\",onClick:handleClearClick,children:/*#__PURE__*/_jsx(\"img\",{src:resetWhiteImg,alt:\"\\uC9C0\\uC6B0\\uAE30\"})})]});}export default FileInput;","map":{"version":3,"names":["useEffect","useRef","useState","resetWhiteImg","placeholderImg","jsx","_jsx","jsxs","_jsxs","FileInput","_ref","className","initialPreview","name","value","onChange","preview","setPreview","inputRef","handleChange","e","nextValue","target","files","handleClearClick","inputNode","current","nextPreview","URL","createObjectURL","revokeObjectURL","children","src","alt","type","ref","onClick"],"sources":["C:/Users/jos83/project/expiryalert/src/components/FileInput.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport resetWhiteImg from '../assets/ic-reset-white.png';\nimport placeholderImg from '../assets/preview-placeholder.png';\nimport './FileInput.css';\n\nfunction FileInput({ className = '', initialPreview, name, value, onChange }) {\n  const [preview, setPreview] = useState(initialPreview);\n  const inputRef = useRef();\n\n  const handleChange = (e) => {\n    const nextValue = e.target.files[0];\n    onChange(name, nextValue);\n  };\n\n  const handleClearClick = () => {\n    const inputNode = inputRef.current;\n    if (!inputNode) return;\n\n    inputNode.value = '';\n    onChange(name, null);\n  };\n\n  useEffect(() => {\n    if (!value) return;\n    const nextPreview = URL.createObjectURL(value);\n    setPreview(nextPreview);\n\n    return () => {\n      setPreview(initialPreview);\n      URL.revokeObjectURL(nextPreview);\n    };\n  }, [value, initialPreview]);\n\n  return (\n    <div className={`FileInput ${className}`}>\n      <img\n        className={`FileInput-preview ${preview ? 'selected' : ''}`}\n        src={preview || placeholderImg}\n        alt=\"이미지 미리보기\"\n      />\n      <input\n        className=\"FileInput-hidden-overlay\"\n        type=\"file\"\n        onChange={handleChange}\n        ref={inputRef}\n      />\n      {value && (\n        <button\n          className=\"FileInput-clear-button\"\n          type=\"button\"\n          onClick={handleClearClick}\n        >\n          <img src={resetWhiteImg} alt=\"지우기\" />\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default FileInput;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAO,CAAAC,aAAa,KAAM,8BAA8B,CACxD,MAAO,CAAAC,cAAc,KAAM,mCAAmC,CAC9D,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAA4D,IAA3D,CAAEC,SAAS,CAAG,EAAE,CAAEC,cAAc,CAAEC,IAAI,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAL,IAAA,CAC1E,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAACU,cAAc,CAAC,CACtD,KAAM,CAAAM,QAAQ,CAAGjB,MAAM,CAAC,CAAC,CAEzB,KAAM,CAAAkB,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAAC,SAAS,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CACnCR,QAAQ,CAACF,IAAI,CAAEQ,SAAS,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAG,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,SAAS,CAAGP,QAAQ,CAACQ,OAAO,CAClC,GAAI,CAACD,SAAS,CAAE,OAEhBA,SAAS,CAACX,KAAK,CAAG,EAAE,CACpBC,QAAQ,CAACF,IAAI,CAAE,IAAI,CAAC,CACtB,CAAC,CAEDb,SAAS,CAAC,IAAM,CACd,GAAI,CAACc,KAAK,CAAE,OACZ,KAAM,CAAAa,WAAW,CAAGC,GAAG,CAACC,eAAe,CAACf,KAAK,CAAC,CAC9CG,UAAU,CAACU,WAAW,CAAC,CAEvB,MAAO,IAAM,CACXV,UAAU,CAACL,cAAc,CAAC,CAC1BgB,GAAG,CAACE,eAAe,CAACH,WAAW,CAAC,CAClC,CAAC,CACH,CAAC,CAAE,CAACb,KAAK,CAAEF,cAAc,CAAC,CAAC,CAE3B,mBACEJ,KAAA,QAAKG,SAAS,CAAE,aAAaA,SAAS,EAAG,CAAAoB,QAAA,eACvCzB,IAAA,QACEK,SAAS,CAAE,qBAAqBK,OAAO,CAAG,UAAU,CAAG,EAAE,EAAG,CAC5DgB,GAAG,CAAEhB,OAAO,EAAIZ,cAAe,CAC/B6B,GAAG,CAAC,6CAAU,CACf,CAAC,cACF3B,IAAA,UACEK,SAAS,CAAC,0BAA0B,CACpCuB,IAAI,CAAC,MAAM,CACXnB,QAAQ,CAAEI,YAAa,CACvBgB,GAAG,CAAEjB,QAAS,CACf,CAAC,CACDJ,KAAK,eACJR,IAAA,WACEK,SAAS,CAAC,wBAAwB,CAClCuB,IAAI,CAAC,QAAQ,CACbE,OAAO,CAAEZ,gBAAiB,CAAAO,QAAA,cAE1BzB,IAAA,QAAK0B,GAAG,CAAE7B,aAAc,CAAC8B,GAAG,CAAC,oBAAK,CAAE,CAAC,CAC/B,CACT,EACE,CAAC,CAEV,CAEA,cAAe,CAAAxB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}